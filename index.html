<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cultural Fingerprints</title>

  <style>
@font-face {
  font-family: 'ABCDiatype';
  src: url('ABCDiatypeSemi-Mono-Light.woff') format('woff');
  font-weight: 300;
  font-style: normal;
}

@font-face {
  font-family: 'ABCDiatype';
  src: url('ABCDiatypeSemi-Mono-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: 'ABCDiatype';
  src: url('ABCDiatypeSemi-Mono-Bold.woff') format('woff');
  font-weight: 800;
  font-style: normal;
}

body {
  margin: 0;
  padding: 0;
  height: 100%;
  background-color: rgb(255, 191, 0);
  overflow: hidden;
  font-family: 'ABCDiatype', sans-serif;
  font-weight: 400;
}

.title {
  position: absolute;
  top: 45%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: rgb(0, 0, 0);
  font-size: 4rem;
  z-index: 2;
  text-align: center;
  pointer-events: none;
  font-family: 'ABCDiatype', sans-serif;
  font-weight: 800;
}

.subtitle {
  position: absolute;
  top: 55%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: rgb(0, 0, 0);
  font-size: 1.5rem;
  z-index: 2;
  text-align: center;
  pointer-events: none;
}

.tag-box {
  display: inline-block;
  background-color: black;
  color: rgb(255, 191, 0);
  padding: 0.2rem 0.6rem;
  border-radius: 4px;
}

.top-right-link {
  position: absolute;
  top: 20px;
  right: 20px;
  color: rgb(0, 0, 0);
  text-decoration: underline;
  font-size: 1rem;
  z-index: 3;
  transition: color 0.3s ease;
}

.top-right-link:hover {
  color: rgb(255, 0, 102);
}

#dvd-square {
  position: absolute;
  width: 300px;
  height: 180px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: 4;
  border: 2px solid rgb(255, 191, 0);
  border-radius: 8px;
}
  </style>
</head>
<body>
  <a class="top-right-link" href="livingvoices.html">Living Voices</a>
  <div class="title">Under the Surface</div>
  <div class="subtitle" id="subtitle"></div>
  <div id="dvd-square"></div>

  <script>
    const square = document.getElementById("dvd-square");
    const subtitle = document.getElementById("subtitle");

    const images = [
      "themedia/street_bars/bar1.jpg",
      "themedia/street_bars/bar2.jpg",
      "themedia/street_bars/bar3.jpg",
      "themedia/street_bars/bar4.jpg",
      "themedia/street_bars/bar5.jpg",
      "themedia/street_bars/bar7.jpg",
      "themedia/street_bars/bar9.jpg",
      "themedia/street_bars/bar10.jpg",
      "themedia/street_bars/bar11.jpg",
      "themedia/street_bars/bar12.jpg",
      "themedia/street_bars/bar13.jpg",
      "themedia/street_bars/bar14.jpg",
      "themedia/street_bars/bar15.jpg",
      "themedia/street_bars/bar16.jpg",
      "themedia/street_bars/bar17.jpg",
      "themedia/street_bars/bar18.jpg",
      "themedia/street_bars/bar19.jpg",
      "themedia/street_bars/bar20.jpg",
      "themedia/carnaval/carnaval1.jpg",
      "themedia/carnaval/carnaval2.jpg",
      "themedia/carnaval/carnaval3.jpg",
      "themedia/carnaval/carnaval4.jpg",
      "themedia/carnaval/carnaval5.jpg",
      "themedia/carnaval/carnaval6.jpg",
      "themedia/carnaval/carnaval7.jpg",
      "themedia/carnaval/carnaval8.jpg",
      "themedia/carnaval/carnaval9.jpg",
      "themedia/carnaval/carnaval10.jpg",
      "themedia/carnaval/carnaval11.jpg",
      "themedia/carnaval/carnaval12.jpg",
      "themedia/carnaval/carnaval13.jpg",
      "themedia/carnaval/carnaval14.jpg",
      "themedia/carnaval/carnaval15.jpg",
      "themedia/carnaval/carnaval16.jpg",
      "themedia/carnaval/carnaval17.jpg",
      "themedia/carnaval/carnaval18.jpg",
      "themedia/caramel_dog/viracara1.jpg",
      "themedia/caramel_dog/viracara2.jpg",
      "themedia/caramel_dog/viracara3.jpg",
      "themedia/caramel_dog/viracara4.jpg",
      "themedia/caramel_dog/viracara5.jpg",
      "themedia/caramel_dog/viracara6.jpg",
      "themedia/caramel_dog/viracara7.jpg",
      "themedia/caramel_dog/viracara8.jpg",
      "themedia/caramel_dog/viracara9.jpg",
      "themedia/caramel_dog/viracara10.jpg",
      "themedia/caramel_dog/viracara11.jpg",
      "themedia/caramel_dog/viracara12.jpg",
      "themedia/caramel_dog/viracara13.jpg",
      "themedia/caramel_dog/viracara14.jpg",
      "themedia/caramel_dog/viracara15.jpg",
      "themedia/caramel_dog/viracara16.jpg",
      "themedia/caramel_dog/viracara17.jpg",
      "themedia/caramel_dog/viracara18.jpg",
      "themedia/caramel_dog/viracara19.jpg",
      "themedia/caramel_dog/viracara20.jpg",
      "themedia/architecture/casa1.jpg",
      "themedia/architecture/casa2.jpg",
      "themedia/architecture/casa3.jpg",
      "themedia/architecture/casa4.jpg",
      "themedia/architecture/casa5.jpg",
      "themedia/architecture/casa6.jpg",
      "themedia/architecture/casa7.jpg",
      "themedia/architecture/casa8.jpg",
      "themedia/architecture/casa9.jpg",
      "themedia/architecture/casa10.jpg",
      "themedia/architecture/casa11.jpg",
      "themedia/architecture/casa12.jpg",
      "themedia/architecture/casa13.jpg",
      "themedia/architecture/casa14.jpg",
      "themedia/architecture/casa15.jpg",
      "themedia/architecture/casa16.jpg",
      "themedia/architecture/casa17.jpg",
      "themedia/architecture/casa18.jpg",
      "themedia/architecture/casa19.jpg",
      "themedia/architecture/casa20.jpg",
      "themedia/phone_booths/orelhao1.jpg",
      "themedia/phone_booths/orelhao2.jpg",
      "themedia/phone_booths/orelhao3.jpg",
      "themedia/phone_booths/orelhao4.jpg",
      "themedia/phone_booths/orelhao5.png.jpg",
      "themedia/phone_booths/orelhao6.jpg",
      "themedia/phone_booths/orelhao7.jpg",
      "themedia/phone_booths/orelhao8.jpg",
      "themedia/phone_booths/orelhao9.jpg",
      "themedia/phone_booths/orelhao10.jpg",
      "themedia/phone_booths/orelhao11.jpg",
      "themedia/phone_booths/orelhao12.jpg",
      "themedia/phone_booths/orelhao13.jpg",
      "themedia/phone_booths/orelhao14.jpg",
      "themedia/phone_booths/orelhao15.jpg.jpg",
      "themedia/phone_booths/orelhao16.jpg",
      "themedia/phone_booths/orelhao17.jpg",
      "themedia/phone_booths/orelhao18.jpg",
      "themedia/phone_booths/orelhao19.jpg",
      "themedia/phone_booths/orelhao20.jpg",
      "themedia/rooftop_parties/festanalaj1.jpg",
      "themedia/rooftop_parties/festanalaj2.jpg",
      "themedia/rooftop_parties/festanalaj3.jpg",
      "themedia/rooftop_parties/festanalaj4.jpg",
      "themedia/rooftop_parties/festanalaj5.jpg",
      "themedia/rooftop_parties/festanalaj6.jpg",
      "themedia/rooftop_parties/festanalaj7.jpg",
      "themedia/rooftop_parties/festanalaj8.jpg",
      "themedia/rooftop_parties/festanalaj9.jpg",
      "themedia/rooftop_parties/festanalaj10.jpg",
      "themedia/rooftop_parties/festanalaj11.jpg",
      "themedia/rooftop_parties/festanalaj12.jpg",
      "themedia/rooftop_parties/festanalaj13.jpg",
      "themedia/rooftop_parties/festanalaj14.jpg.jpg",
      "themedia/rooftop_parties/festanalaj15.jpg",
      "themedia/rooftop_parties/festanalaj16.jpg",
      "themedia/rooftop_parties/festanalaj17.jpg",
      "themedia/rooftop_parties/festanalaj18.jpg",
      "themedia/rooftop_parties/festanalaj19.jpg",
      "themedia/rooftop_parties/festanalaj20.jpg",
   

    ].sort(() => Math.random() - 0.5);

    let preloadedImages = [];
    let imageIndex = 0;
    let x = 100;
    let y = 100;
    let dx = 3;
    let dy = 2.2;
    const width = 300;
    const height = 180;

    function getTagFromImage(imagePath) {
      const parts = imagePath.split('/');
      return parts.length >= 2 ? parts[1] : "unknown";
    }

 
    function changeImage() {
  if (preloadedImages.length === 0) return;
  imageIndex = (imageIndex + 1) % preloadedImages.length;
  const currentImage = preloadedImages[imageIndex];
  square.style.backgroundImage = `url('${currentImage}')`;
  const tag = getTagFromImage(currentImage);
  subtitle.innerHTML = `Cultural Fingerprints: <span class="tag-box">${tag}</span>`;
}


    function updatePosition() {
      const windowWidth = window.innerWidth;
      const windowHeight = window.innerHeight;

      x += dx;
      y += dy;

      if (x + width >= windowWidth || x <= 0) {
        dx = -dx;
        changeImage();
      }

      if (y + height >= windowHeight || y <= 0) {
        dy = -dy;
        changeImage();
      }

      square.style.left = `${x}px`;
      square.style.top = `${y}px`;

      requestAnimationFrame(updatePosition);
    }

    preloadImages(images);
    const initialTag = getTagFromImage(images[imageIndex]);
    subtitle.innerHTML = `Cultural Fingerprints: <span class="tag-box">${initialTag}</span>`;
    square.style.backgroundImage = `url('${images[imageIndex]}')`;
    updatePosition();

    function preloadImages(urls) {
  urls.forEach((url) => {
    const img = new Image();
    img.onload = () => preloadedImages.push(url);
    img.onerror = () => console.warn(`Image failed to load: ${url}`);
    img.src = url;
  });
}

  </script>
</body>
</html>
